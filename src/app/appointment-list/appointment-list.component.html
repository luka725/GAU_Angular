<form [formGroup]="filterForm" (ngSubmit)="onFilterChange()" class="filter-form">
  <mat-form-field class="search-field">
    <mat-label>Doctor Name</mat-label>
    <input matInput placeholder="Doctor Name" formControlName="doctorName">
  </mat-form-field>
  <mat-form-field class="search-field">
    <mat-label>Patient Name</mat-label>
    <input matInput placeholder="Patient Name" formControlName="patientName">
  </mat-form-field>
  <mat-form-field class="search-field">
    <mat-label>Appointment Type</mat-label>
    <input matInput placeholder="Appointment Type" formControlName="appointmentType">
  </mat-form-field>
  <mat-form-field class="search-field">
    <mat-label>Payment Status</mat-label>
    <input matInput placeholder="Payment Status" formControlName="paymentStatus">
  </mat-form-field>
  <button mat-raised-button color="primary" style="margin-left: 5px;" type="submit">Filter</button>
</form>

<mat-form-field>
  <mat-label>Items per page</mat-label>
  <mat-select [(value)]="pageSize" (selectionChange)="onPageChange($event)">
    <mat-option *ngFor="let option of pageSizeOptions" [value]="option">{{ option }}</mat-option>
  </mat-select>
</mat-form-field>

<table mat-table [dataSource]="appointments" class="mat-elevation-z8">
  <!-- Patient Name -->
  <ng-container matColumnDef="patientName">
    <th mat-header-cell *matHeaderCellDef>Patient Name</th>
    <td mat-cell *matCellDef="let appointment">{{ appointment.PatientFirstName }} {{ appointment.PatientLastName }}</td>
  </ng-container>

  <!-- Doctor Name -->
  <ng-container matColumnDef="doctorName">
    <th mat-header-cell *matHeaderCellDef>Doctor Name</th>
    <td mat-cell *matCellDef="let appointment">{{ appointment.DoctorFirstName }} {{ appointment.DoctorLastName }}</td>
  </ng-container>

  <!-- Appointment Type -->
  <ng-container matColumnDef="appointmentType">
    <th mat-header-cell *matHeaderCellDef>Appointment Type</th>
    <td mat-cell *matCellDef="let appointment">{{ appointment.AppointmentType }}</td>
  </ng-container>

  <!-- Status -->
  <ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef>Status</th>
    <td mat-cell *matCellDef="let appointment">{{ appointment.Status }}</td>
  </ng-container>

  <!-- Payment Status -->
  <ng-container matColumnDef="paymentStatus">
    <th mat-header-cell *matHeaderCellDef>Payment Status</th>
    <td mat-cell *matCellDef="let appointment">{{ appointment.PaymentStatus }}</td>
  </ng-container>

  <!-- Appointment Date Time -->
  <ng-container matColumnDef="appointmentDateTime">
    <th mat-header-cell *matHeaderCellDef>Appointment Date Time</th>
    <td mat-cell *matCellDef="let appointment">{{ appointment.AppointmentDateTime | date: 'medium' }}</td>
  </ng-container>

  <!-- Actions (if needed) -->
  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let appointment">
      <button mat-icon-button color="primary" aria-label="View Details">
        <mat-icon>visibility</mat-icon>
      </button>
    </td>
  </ng-container>

  <!-- Header Row Definition -->
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <!-- Data Row Definition -->
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>


<mat-paginator 
[length]="totalItems"
[pageSize]="pageSize"
[pageSizeOptions]="pageSizeOptions"
[pageIndex]="currentPage"
(page)="onPageChange($event)">
</mat-paginator>
